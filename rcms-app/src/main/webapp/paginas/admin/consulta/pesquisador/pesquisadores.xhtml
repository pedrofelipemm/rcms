<!DOCTYPE html>
<ui:composition template="/paginas/admin/template/template.xhtml"
    xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:o="http://omnifaces.org/ui"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">
	
	<ui:define name="conteudo">
		
		<f:metadata>
        	<f:event type="preRenderView" listener="#{configMB.loadUser}"/>
    	</f:metadata>
	
		<div class="row">
        	<div class="col-sm-12">
        		<h1>#{mensagens['pesquisadores']}</h1>
        	</div>
        </div>
		
		<h:form id="formPesquisador" prependId="false"  role="form">
			
			<p:dataTable id="tabelaPesquisadores" value="#{pesquisadorMB.pesquisadores}" var="pesquisador"
				rendered="#{not empty pesquisadorMB.pesquisadores}" paginator="true" rows="10">
 
 				<p:column styleClass="col-sm-1 col-md-1 text-center">
 					<f:facet name="header">
 						<h:outputLabel value="#"/>
 					</f:facet>
 					<h:outputLabel value="#{pesquisadorMB.pesquisadores.rowIndex + 1}"/>
 				</p:column>
 				
    			<p:column styleClass="col-sm-6 cold-md-8">
    				<f:facet name="header">
    					<h:outputLabel value="#{mensagens['nome']}"/>
    				</f:facet>
    				<h:outputLabel value="#{pesquisador.nome}" />
    			</p:column>

				<p:column styleClass="col-sm-5 col-md-3">
					<f:facet name="header">
						<a href="${request.contextPath}/paginas/admin/cadastro/pesquisador/pesquisador.xhtml" style="color: white;" class="btn btn-primary"> #{mensagens['adicionar']} </a>
					</f:facet>
					<div class="row text-center">
						<div class="col-sm-12 text-center">
							<span>
								<h:commandButton id="importar" value="#{mensagens['importar']}" action="#{pesquisadorMB.salvarDadosLattes(pesquisador)}" styleClass="btn btn-info bottom-buffer-2 top-buffer-2">
									<f:ajax render="@form" execute="@form" />
								</h:commandButton>
							</span>
							<span>
								<h:commandButton id="editar" value="#{mensagens['editar']}" action="#{pesquisadorMB.editar(pesquisador)}" styleClass="btn btn-primary bottom-buffer-2 top-buffer-2"/>
							</span>
							<span>
								<h:commandButton id="excluir" value="#{mensagens['excluir']}" action="#{pesquisadorMB.excluir(pesquisador)}" styleClass="btn btn-danger bottom-buffer-2 top-buffer-2"/> 
							</span>
						</div>
					</div>
				</p:column>
			</p:dataTable>
        </h:form>
		
	</ui:define>
</ui:composition>